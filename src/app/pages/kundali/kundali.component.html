<main class="min-h-screen bg-background relative">
  <!-- Animated Cosmic Background -->
  <div class="cosmic-background fixed inset-0 z-0">
    <div class="twinkling"></div>
  </div>

  <app-header></app-header>

  <div class="container mx-auto px-4 pt-24 pb-16 relative z-10">
    <!-- Page Header -->
    <div class="text-center mb-12 relative">
      <div class="absolute inset-0 flex items-center justify-center">
        <div class="cosmic-glow w-96 h-96 rounded-full blur-3xl opacity-20"></div>
      </div>
      <h1 class="text-5xl md:text-6xl font-playfair font-bold text-foreground mb-4 relative z-10">
        Your Cosmic Journey
      </h1>
      @if (cosmicJourneySummary) {
        <div class="bg-gradient-to-br from-primary/20 via-accent/20 to-primary/20 rounded-2xl p-6 md:p-8 border border-primary/30 shadow-2xl backdrop-blur-sm relative z-10 max-w-4xl mx-auto mb-8">
          <h2 class="text-2xl font-playfair font-bold text-foreground mb-4">Cosmic Journey Summary</h2>
          <p class="text-foreground/90 leading-relaxed text-lg">{{ cosmicJourneySummary }}</p>
        </div>
      }
      <div class="bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20 rounded-2xl p-6 border border-primary/30 backdrop-blur-sm relative z-10 max-w-2xl mx-auto">
        <div class="grid md:grid-cols-3 gap-4 text-sm">
          <div>
            <p class="text-foreground/60 mb-1">Birth Date</p>
            <p class="text-foreground font-semibold">{{ birthDetails.date }}</p>
          </div>
          <div>
            <p class="text-foreground/60 mb-1">Birth Time</p>
            <p class="text-foreground font-semibold">{{ birthDetails.time }}</p>
          </div>
          <div>
            <p class="text-foreground/60 mb-1">Birth Place</p>
            <p class="text-foreground font-semibold">{{ birthDetails.place }}</p>
          </div>
        </div>
        <div class="mt-4 pt-4 border-t border-primary/20 grid md:grid-cols-3 gap-4 text-sm">
          <div>
            <p class="text-foreground/60 mb-1">Lagna</p>
            <p class="text-foreground font-semibold">{{ birthDetails.lagna }}</p>
          </div>
          <div>
            <p class="text-foreground/60 mb-1">Rashi</p>
            <p class="text-foreground font-semibold">{{ birthDetails.rashi }}</p>
          </div>
          <div>
            <p class="text-foreground/60 mb-1">Nakshatra</p>
            <p class="text-foreground font-semibold">{{ birthDetails.nakshatra }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Lagna Chart Section -->
    <section class="mb-16">
      <div class="bg-gradient-to-br from-primary/20 via-accent/20 to-primary/20 rounded-2xl p-8 md:p-12 border border-primary/30 shadow-2xl backdrop-blur-sm relative overflow-hidden">
        <div class="absolute top-0 right-0 w-64 h-64 bg-primary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
        <h2 class="text-4xl font-playfair font-bold text-foreground mb-8 text-center relative z-10">
          Lagna Chart (Kundali)
        </h2>
        
        <div class="grid lg:grid-cols-12 gap-6 relative z-10">
          <!-- Chart Visualization -->
          <div class="lg:col-span-7 bg-[#1A1E28] rounded-xl p-6 border border-[#252936] shadow-xl">
            <div class="relative w-full aspect-square max-w-xl mx-auto">
              <!-- Circular Chart -->
              <svg viewBox="0 0 500 500" class="w-full h-full">
                <!-- Outer Circles -->
                <circle cx="250" cy="250" r="220" fill="none" stroke="#FFC163" stroke-width="3" opacity="0.4"/>
                <circle cx="250" cy="250" r="200" fill="none" stroke="#FF9900" stroke-width="2" opacity="0.3"/>
                <circle cx="250" cy="250" r="180" fill="none" stroke="#FFC163" stroke-width="1" opacity="0.2"/>
                
                <!-- House Divisions -->
                @for (house of houses; track $index) {
                  <g>
                    <!-- House Lines -->
                    <line 
                      [attr.x1]="250 + 180 * Math.cos((house.angle - 90) * Math.PI / 180)"
                      [attr.y1]="250 + 180 * Math.sin((house.angle - 90) * Math.PI / 180)"
                      x2="250"
                      y2="250"
                      stroke="#FFC163"
                      stroke-width="1"
                      opacity="0.3"/>
                    
                    <!-- House Numbers and Names -->
                    <g [attr.transform]="'rotate(' + (house.angle - 90) + ' 250 250)'">
                      <circle cx="250" cy="50" r="20" fill="#1A1E28" stroke="#FFC163" stroke-width="2"/>
                      <text x="250" y="56" text-anchor="middle" fill="#FFC163" font-size="14" font-weight="bold">
                        {{ house.number }}
                      </text>
                      <text x="250" y="80" text-anchor="middle" fill="#F8F8F8" font-size="11" font-weight="500">
                        {{ house.name }}
                      </text>
                      <text x="250" y="95" text-anchor="middle" fill="#FFC163" font-size="16">
                        {{ house.signSymbol }}
                      </text>
                      <text x="250" y="110" text-anchor="middle" fill="#A0A0A0" font-size="10">
                        {{ house.sign }}
                      </text>
                    </g>
                  </g>
                }
                
                <!-- Planets in Houses -->
                @for (planet of planets; track $index) {
                  @if (planet.house) {
                    @for (house of houses; track $index) {
                      @if (house.number === planet.house) {
                        <g [attr.transform]="'rotate(' + (house.angle - 90) + ' 250 250)'">
                          <circle cx="250" cy="140" r="15" [attr.fill]="planet.color" opacity="0.9" stroke="#1A1E28" stroke-width="2"/>
                          <text x="250" y="147" text-anchor="middle" fill="#1A1E28" font-size="12" font-weight="bold">
                            {{ planet.symbol }}
                          </text>
                          <text x="250" y="165" text-anchor="middle" fill="#F8F8F8" font-size="9" font-weight="500">
                            {{ planet.name }}
                          </text>
                        </g>
                      }
                    }
                  }
                }
                
                <!-- Center - Lagna -->
                <circle cx="250" cy="250" r="50" fill="#FFC163" opacity="0.2" stroke="#FFC163" stroke-width="2"/>
                <circle cx="250" cy="250" r="35" fill="#1A1E28" stroke="#FFC163" stroke-width="2"/>
                <text x="250" y="260" text-anchor="middle" fill="#FFC163" font-size="18" font-weight="bold">Lagna</text>
                <text x="250" y="275" text-anchor="middle" fill="#FFC163" font-size="14">♏</text>
              </svg>
            </div>
          </div>

          <!-- Planet Positions -->
          <div class="lg:col-span-5 space-y-3">
            <h3 class="text-2xl font-playfair font-bold text-foreground mb-4">Planet Positions</h3>
            <div class="max-h-[600px] overflow-y-auto pr-2 space-y-3 custom-scrollbar">
              @for (planet of planets; track $index) {
                <div class="bg-[#1A1E28] rounded-lg p-3 border border-[#252936] hover:border-[#FFC163] transition-colors">
                  <div class="flex items-center gap-2 mb-2">
                    <div class="w-8 h-8 rounded-full flex items-center justify-center text-lg flex-shrink-0" [style.background-color]="planet.color + '40'" [style.color]="planet.color">
                      {{ planet.symbol }}
                    </div>
                    <div class="flex-1 min-w-0">
                      <div class="flex justify-between items-center">
                        <span class="text-[#FFC163] font-semibold text-sm">{{ planet.name }}</span>
                        <span class="text-[#F8F8F8] text-xs">H{{ planet.house }}</span>
                      </div>
                      <p class="text-[#A0A0A0] text-xs">{{ planet.sign }} {{ planet.degree }}</p>
                    </div>
                  </div>
                  <p class="text-[#A0A0A0] text-xs leading-relaxed">{{ planet.description }}</p>
                </div>
              }
            </div>
          </div>
        </div>

        <!-- House Details Grid -->
        <div class="mt-8 grid md:grid-cols-2 lg:grid-cols-3 gap-4 relative z-10">
          @for (house of houses; track $index) {
            <div class="bg-[#1A1E28] rounded-lg p-4 border border-[#252936] hover:border-[#FFC163] transition-colors">
              <div class="flex justify-between items-center mb-2">
                <span class="text-[#FFC163] font-semibold">{{ house.number }}. {{ house.name }}</span>
                <span class="text-[#F8F8F8] text-lg">{{ house.signSymbol }}</span>
              </div>
              <p class="text-[#A0A0A0] text-xs mb-2">{{ house.sign }}</p>
              <p class="text-[#A0A0A0] text-xs leading-relaxed">{{ house.description }}</p>
              <div class="mt-2 flex flex-wrap gap-1">
                @for (planet of planets; track $index) {
                  @if (planet.house === house.number) {
                    <span class="text-xs px-2 py-1 rounded" [style.background-color]="planet.color + '30'" [style.color]="planet.color">
                      {{ planet.symbol }} {{ planet.name }}
                    </span>
                  }
                }
              </div>
            </div>
          }
        </div>
      </div>
    </section>

    <!-- Class Recordings Tab -->
    <section class="mb-16">
      <div class="relative z-10">
        <a routerLink="/class-recordings" class="block group">
          <div class="bg-gradient-to-r from-primary/30 via-accent/30 to-primary/30 rounded-2xl p-8 md:p-12 border-2 border-primary/50 shadow-2xl backdrop-blur-sm relative overflow-hidden cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,193,99,0.4)] hover:border-primary">
            <!-- Animated Glow Effect -->
            <div class="absolute inset-0 bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            <div class="absolute top-0 left-0 w-full h-full">
              <div class="absolute top-0 right-0 w-64 h-64 bg-primary/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 animate-pulse"></div>
              <div class="absolute bottom-0 left-0 w-64 h-64 bg-accent/20 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 animate-pulse" style="animation-delay: 1s;"></div>
            </div>
            
            <!-- Content -->
            <div class="relative z-10 text-center">
              <div class="inline-block mb-4">
                <span class="text-5xl md:text-6xl">✨</span>
              </div>
              <h2 class="text-3xl md:text-4xl font-playfair font-bold text-foreground mb-4 group-hover:text-primary transition-colors duration-300">
                The universe speaks in patterns — ready to learn the science behind reading them?
              </h2>
              <div class="flex items-center justify-center gap-2 text-primary/80 group-hover:text-primary transition-colors duration-300">
                <span class="text-lg font-semibold">Explore Class Recordings</span>
                <svg class="w-6 h-6 transform group-hover:translate-x-2 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                </svg>
              </div>
            </div>
          </div>
        </a>
      </div>
    </section>

    <!-- Varshphal Section -->
    <section class="mb-16">
      <div class="bg-gradient-to-br from-primary/20 via-accent/20 to-primary/20 rounded-2xl p-8 md:p-12 border border-primary/30 shadow-2xl backdrop-blur-sm relative overflow-hidden">
        <div class="absolute bottom-0 left-0 w-64 h-64 bg-accent/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"></div>
        <h2 class="text-4xl font-playfair font-bold text-foreground mb-8 text-center relative z-10">
          Varshphal (Annual Horoscope)
        </h2>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 relative z-10">
          @for (varshphal of varshphalData; track $index) {
            <div class="bg-[#1A1E28] rounded-xl p-6 border border-[#252936] hover:border-[#FFC163] transition-all hover:shadow-xl hover:shadow-primary/20">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-14 h-14 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center text-2xl shadow-lg">
                  {{ varshphal.icon }}
                </div>
                <div class="flex-1">
                  <h3 class="text-xl font-playfair font-bold text-[#F8F8F8]">{{ varshphal.title }}</h3>
                  <p class="text-[#FFC163] text-xs">{{ varshphal.planet }} • {{ varshphal.period }}</p>
                </div>
              </div>
              <p class="text-[#A0A0A0] leading-relaxed text-sm">{{ varshphal.description }}</p>
            </div>
          }
        </div>
      </div>
    </section>

    <!-- 2025 Predictions -->
    <section class="mb-16">
      <div class="bg-gradient-to-br from-primary/20 via-accent/20 to-primary/20 rounded-2xl p-8 md:p-12 border border-primary/30 shadow-2xl backdrop-blur-sm relative overflow-hidden">
        <div class="absolute top-0 left-0 w-64 h-64 bg-primary/10 rounded-full blur-3xl -translate-y-1/2 -translate-x-1/2"></div>
        <div class="flex items-center justify-center gap-4 mb-8 relative z-10">
          <div class="h-px flex-1 bg-gradient-to-r from-transparent via-primary to-primary"></div>
          <h2 class="text-4xl font-playfair font-bold text-foreground">
            Year 2025 Predictions
          </h2>
          <div class="h-px flex-1 bg-gradient-to-l from-transparent via-primary to-primary"></div>
        </div>
        
        <div class="space-y-6 relative z-10">
          @for (prediction of predictions2025; track $index) {
            <div class="bg-[#1A1E28] rounded-xl p-6 border border-[#252936] hover:border-[#FFC163] transition-all hover:shadow-xl hover:shadow-primary/20">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center flex-shrink-0 shadow-lg">
                  <span class="text-white font-bold text-lg">{{ $index + 1 }}</span>
                </div>
                <div class="flex-1">
                  <h3 class="text-xl font-playfair font-bold text-[#F8F8F8] mb-2">{{ prediction.title }}</h3>
                  <p class="text-[#A0A0A0] leading-relaxed">{{ prediction.description }}</p>
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    </section>

    <!-- 2026 Predictions -->
    <section class="mb-16">
      <div class="bg-gradient-to-br from-primary/20 via-accent/20 to-primary/20 rounded-2xl p-8 md:p-12 border border-primary/30 shadow-2xl backdrop-blur-sm relative overflow-hidden">
        <div class="absolute bottom-0 right-0 w-64 h-64 bg-accent/10 rounded-full blur-3xl translate-y-1/2 translate-x-1/2"></div>
        <div class="flex items-center justify-center gap-4 mb-8 relative z-10">
          <div class="h-px flex-1 bg-gradient-to-r from-transparent via-accent to-accent"></div>
          <h2 class="text-4xl font-playfair font-bold text-foreground">
            Year 2026 Predictions
          </h2>
          <div class="h-px flex-1 bg-gradient-to-l from-transparent via-accent to-accent"></div>
        </div>
        
        <div class="space-y-6 relative z-10">
          @for (prediction of predictions2026; track $index) {
            <div class="bg-[#1A1E28] rounded-xl p-6 border border-[#252936] hover:border-[#FFC163] transition-all hover:shadow-xl hover:shadow-primary/20">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 rounded-full bg-gradient-to-br from-accent to-primary flex items-center justify-center flex-shrink-0 shadow-lg">
                  <span class="text-white font-bold text-lg">{{ $index + 1 }}</span>
                </div>
                <div class="flex-1">
                  <h3 class="text-xl font-playfair font-bold text-[#F8F8F8] mb-2">{{ prediction.title }}</h3>
                  <p class="text-[#A0A0A0] leading-relaxed">{{ prediction.description }}</p>
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    </section>
  </div>
</main>
